<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="../WEB-INF/templates/page.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="content">

		<div class="titulo-pagina">

			<h2>Estatísticas por Participante</h2>

		</div>
		<h:form id="form" styleClass="formularios box-border">

			<p:messages errorClass="errorMessage" showDetail="false"
				autoUpdate="true" rendered="true" />

			<div style="float: left;">
				<div class="input-box box-50">
					<label for="Participante">Usuário</label>
					<div class="conteiner">
						<p:inputText id="Participante"
							value="#{estatisticasParticipanteBean.nomeParticipanteSelecionado}">
						</p:inputText>
					</div>
				</div>

				<h:panelGrid columns="1">
					<p:commandButton id="consultar" value="Buscar"
						action="#{estatisticasParticipanteBean.consultarParticipanteDialog}"
						update=":form2:RadioParticipante"
						styleClass="mg-left-18  mg-top-18 " />
				</h:panelGrid>

				<div>
					<p:pieChart id="grafico1"
						value="#{estatisticasParticipanteBean.pieModel}"
						legendPosition="e" fill="true" showDataLabels="true"
						style="width:450px;height:350px" sliceMargin="5" diameter="180"
						seriesColors="5FB404, F7FE2E, 0080FF, 01DFD7, FF0000" />
				</div>

			</div>

			<div style="float: left; margin-left: 100px; margin-top: 70px;">
				<p:accordionPanel id="accordionListas">
					<p:tab
						title="Escores Cheios - (#{estatisticasParticipanteBean.escoresCheiosList.size()} Jogos)">
						<p:dataGrid id="escoresCheioslist"
							value="#{estatisticasParticipanteBean.escoresCheiosList}"
							rowIndexVar="rowIndex" var="item" paginatorPosition="bottom"
							paginator="true" rows="10" columns="1"
							paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							styleClass="tabela-dados" emptyMessage="Não há registros">

							<p:panel style="text-align:center;">
								<f:facet name="header">
									<h:outputText value="#{item.grupo.nome} - " />
									<h:outputText value="#{item.dtJogo}">
										<f:convertDateTime id="convIni" type="date"
											pattern="dd/MM/yyyy" />
									</h:outputText>
								</f:facet>
								<h:panelGrid columns="5" styleClass="center">

									<h:graphicImage value="../img/#{item.selecao1.id}.png"
										title="#{item.selecao1.nome}" />
									<h:outputText id="golOk1" value="#{item.gol1}"
										style="width: 13px; margin-left: 7px; margin-right: 5px;text-align:center;" />

									<h:outputText value=" X " />

									<h:outputText id="golOk2" value="#{item.gol2}"
										style="width: 13px; margin-left: 7px; margin-right: 5px;text-align:center;" />

									<h:graphicImage value="../img/#{item.selecao2.id}.png"
										title="#{item.selecao2.nome}" />

								</h:panelGrid>
							</p:panel>
						</p:dataGrid>
					</p:tab>

					<p:tab
						title="Empate sem acertar o placar - (#{estatisticasParticipanteBean.empateSemPlacarList.size()} Jogos)">
						<p:dataGrid id="empateSemPlacarlist"
							value="#{estatisticasParticipanteBean.empateSemPlacarList}"
							rowIndexVar="rowIndex" var="item" paginatorPosition="bottom"
							paginator="true" rows="10" columns="1"
							paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							styleClass="tabela-dados" emptyMessage="Não há registros">

							<p:panel style="text-align:center;">
								<f:facet name="header">
									<h:outputText value="#{item.grupo.nome} - " />
									<h:outputText value="#{item.dtJogo}">
										<f:convertDateTime id="convIni" type="date"
											pattern="dd/MM/yyyy" />
									</h:outputText>
								</f:facet>
								<h:panelGrid columns="5" styleClass="center">

									<h:graphicImage value="../img/#{item.selecao1.id}.png"
										title="#{item.selecao1.nome}" />
									<h:outputText id="golOk1" value="#{item.gol1}"
										style="width: 13px; margin-left: 7px; margin-right: 5px;text-align:center;" />

									<h:outputText value=" X " />

									<h:outputText id="golOk2" value="#{item.gol2}"
										style="width: 13px; margin-left: 7px; margin-right: 5px;text-align:center;" />

									<h:graphicImage value="../img/#{item.selecao2.id}.png"
										title="#{item.selecao2.nome}" />

								</h:panelGrid>
							</p:panel>
						</p:dataGrid>
					</p:tab>

					<p:tab
						title="Escore da Selecao 1 - (#{estatisticasParticipanteBean.escoreSelecao1List.size()} Jogos)">
						<p:dataGrid id="escoreSelecao1list"
							value="#{estatisticasParticipanteBean.escoreSelecao1List}"
							rowIndexVar="rowIndex" var="item" paginatorPosition="bottom"
							paginator="true" rows="10" columns="1"
							paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							styleClass="tabela-dados" emptyMessage="Não há registros">

							<p:panel style="text-align:center;">
								<f:facet name="header">
									<h:outputText value="#{item.grupo.nome} - " />
									<h:outputText value="#{item.dtJogo}">
										<f:convertDateTime id="convIni" type="date"
											pattern="dd/MM/yyyy" />
									</h:outputText>
								</f:facet>
								<h:panelGrid columns="5" styleClass="center">

									<h:graphicImage value="../img/#{item.selecao1.id}.png"
										title="#{item.selecao1.nome}" />
									<h:outputText id="golOk1" value="#{item.gol1}"
										style="width: 13px; margin-left: 7px; margin-right: 5px;text-align:center;" />

									<h:outputText value=" X " />

									<h:outputText id="golOk2" value="#{item.gol2}"
										style="width: 13px; margin-left: 7px; margin-right: 5px;text-align:center;" />

									<h:graphicImage value="../img/#{item.selecao2.id}.png"
										title="#{item.selecao2.nome}" />

								</h:panelGrid>
							</p:panel>
						</p:dataGrid>
					</p:tab>

					<p:tab
						title="Escore da Selecao 2 - (#{estatisticasParticipanteBean.escoreSelecao2List.size()} Jogos)">
						<p:dataGrid id="escoreSelecao2list"
							value="#{estatisticasParticipanteBean.escoreSelecao2List}"
							rowIndexVar="rowIndex" var="item" paginatorPosition="bottom"
							paginator="true" rows="10" columns="1"
							paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							styleClass="tabela-dados" emptyMessage="Não há registros">

							<p:panel style="text-align:center;">
								<f:facet name="header">
									<h:outputText value="#{item.grupo.nome} - " />
									<h:outputText value="#{item.dtJogo}">
										<f:convertDateTime id="convIni" type="date"
											pattern="dd/MM/yyyy" />
									</h:outputText>
								</f:facet>
								<h:panelGrid columns="5" styleClass="center">

									<h:graphicImage value="../img/#{item.selecao1.id}.png"
										title="#{item.selecao1.nome}" />
									<h:outputText id="golOk1" value="#{item.gol1}"
										style="width: 13px; margin-left: 7px; margin-right: 5px;text-align:center;" />

									<h:outputText value=" X " />

									<h:outputText id="golOk2" value="#{item.gol2}"
										style="width: 13px; margin-left: 7px; margin-right: 5px;text-align:center;" />

									<h:graphicImage value="../img/#{item.selecao2.id}.png"
										title="#{item.selecao2.nome}" />

								</h:panelGrid>
							</p:panel>
						</p:dataGrid>
					</p:tab>

					<p:tab
						title="Não Pontuou - (#{estatisticasParticipanteBean.naoPontuouList.size()} Jogos)">
						<p:dataGrid id="naoPontuoulist"
							value="#{estatisticasParticipanteBean.naoPontuouList}"
							rowIndexVar="rowIndex" var="item" paginatorPosition="bottom"
							paginator="true" rows="10" columns="1"
							paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
							styleClass="tabela-dados" emptyMessage="Não há registros">

							<p:panel style="text-align:center;">
								<f:facet name="header">
									<h:outputText value="#{item.grupo.nome} - " />
									<h:outputText value="#{item.dtJogo}">
										<f:convertDateTime id="convIni" type="date"
											pattern="dd/MM/yyyy" />
									</h:outputText>
								</f:facet>
								<h:panelGrid columns="5" styleClass="center">

									<h:graphicImage value="../img/#{item.selecao1.id}.png"
										title="#{item.selecao1.nome}" />
									<h:outputText id="golOk1" value="#{item.gol1}"
										style="width: 13px; margin-left: 7px; margin-right: 5px;text-align:center;" />

									<h:outputText value=" X " />

									<h:outputText id="golOk2" value="#{item.gol2}"
										style="width: 13px; margin-left: 7px; margin-right: 5px;text-align:center;" />

									<h:graphicImage value="../img/#{item.selecao2.id}.png"
										title="#{item.selecao2.nome}" />

								</h:panelGrid>
							</p:panel>
						</p:dataGrid>
					</p:tab>
				</p:accordionPanel>
			</div>

		</h:form>

		<p:dialog id="popup" header="Participante" widgetVar="dlg"
			resizable="false" modal="true" width="400">
			<h:form id="form2">
				<div>
					<p:dataTable id="RadioParticipante"
						value="#{estatisticasParticipanteBean.participanteList}"
						var="item" emptyMessage="Não há registros" scrollable="true"
						scrollHeight="300">

						<p:column width="40">
							<p:commandButton icon="ui-icon-extlink" onclick="dlg.hide()"
								update=":form, :form:grafico1, :form:accordionListas"
								action="#{estatisticasParticipanteBean.aposConsultarParticipante(item)}">
							</p:commandButton>
						</p:column>
						<p:column id="participantes" headerText="Nome"
							filterBy="#{item.nome}" filterMatchMode="contains" filterValue="">
							<h:outputText value="#{item.nome}" />
						</p:column>
					</p:dataTable>
				</div>
			</h:form>
		</p:dialog>

	</ui:define>
</ui:composition>